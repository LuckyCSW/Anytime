<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.naver.anytime.mybatis.mapper.CalendarMapper">
	
	<select id="getCalendarList" parameterType="int" resultType="Calendar">
		SELECT
	    CALENDAR_ID AS id,
	    USER_ID,
	    SUBJECT AS title,
	    TO_CHAR(START_TIME, 'YYYY-MM-DD"T"HH24:MI:SS') AS "start",
	    TO_CHAR(END_TIME, 'YYYY-MM-DD"T"HH24:MI:SS') AS "end",
	    CONTENT AS description,
	    CASE 
	        WHEN ALL_TIME = 1 THEN 'true'
	        ELSE 'false'
	    END AS allDay
		FROM calendar
		WHERE user_id = #{user_id}
	</select>
	
</mapper>